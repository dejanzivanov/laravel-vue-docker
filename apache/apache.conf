# apache/apache.conf
ServerName docker.dejanzivanov.com

# Manually load modules if needed (some might be auto-enabled)
LoadModule proxy_module modules/mod_proxy.so
LoadModule proxy_fcgi_module modules/mod_proxy_fcgi.so

<VirtualHost *:80>
    DocumentRoot /var/www/html/public

    # Forward .php to the backend container on port 9000
    <FilesMatch \.php$>
        SetHandler "proxy:fcgi://backend:9000"
    </FilesMatch>

    ErrorLog /var/log/apache2/error.log
    CustomLog /var/log/apache2/access.log combined
</VirtualHost>
